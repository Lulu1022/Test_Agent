<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenSpec Workflow</title>
  <style>
    :root {
      --bg-dark: #0a0e1a;
      --bg-panel: #141b2d;
      --bg-panel-2: #1a2340;
      --text-primary: #eaf7f8;
      --text-muted: #a7c2c6;
      --accent-blue: #5dd6ff;
      --accent-green: #4bc27b;
      --accent-purple: #9d7fff;
      --border-blue: rgba(93, 214, 255, 0.26);
      --border-green: rgba(75, 194, 123, 0.3);
      --progress-active: #5dd6ff;
      --progress-inactive: #2a3a5a;
      --progress-line: linear-gradient(90deg, #5dd6ff 0%, #4bc27b 100%);
    }

    * { 
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      color: var(--text-primary);
      font-family: "Avenir Next", "Noto Sans TC", "PingFang TC", sans-serif;
      background: 
        radial-gradient(1200px 700px at 90% -10%, rgba(93, 214, 255, 0.12), transparent 55%),
        radial-gradient(900px 500px at -10% 10%, rgba(157, 127, 255, 0.12), transparent 60%),
        linear-gradient(160deg, #0a0e1a 0%, #141b2d 45%, #1a2340 100%);
      min-height: 100vh;
      padding: 40px 12px 60px;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    .summary-section {
      background: linear-gradient(145deg, rgba(20, 27, 45, 0.95), rgba(26, 35, 64, 0.95));
      border: 1px solid var(--border-blue);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 32px;
    }

    .summary-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .summary-title::before {
      content: "ğŸ“‹";
      font-size: 1.8rem;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .summary-item {
      background: rgba(10, 14, 26, 0.4);
      border: 1px solid rgba(93, 214, 255, 0.15);
      border-radius: 12px;
      padding: 16px;
      transition: all 0.3s ease;
    }

    .summary-item:hover {
      border-color: var(--border-blue);
      background: rgba(10, 14, 26, 0.6);
      transform: translateY(-2px);
    }

    .summary-skill-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      gap: 8px;
    }

    .summary-skill-name {
      font-family: "SF Mono", "Menlo", "Consolas", monospace;
      color: var(--accent-blue);
      font-size: 0.95rem;
      font-weight: 600;
      flex: 1;
      min-width: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .summary-skill-stage {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      background: rgba(157, 127, 255, 0.15);
      border: 1px solid rgba(157, 127, 255, 0.3);
      color: var(--accent-purple);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      flex-shrink: 0;
      white-space: nowrap;
    }

    .summary-skill-desc {
      color: var(--text-muted);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .main-content {
      display: flex;
      gap: 32px;
      align-items: flex-start;
    }

    /* å·¥ä½œæµé€²åº¦æ¢ */
    .workflow-sidebar {
      position: sticky;
      top: 40px;
      width: 280px;
      flex-shrink: 0;
      background: linear-gradient(145deg, rgba(20, 27, 45, 0.95), rgba(26, 35, 64, 0.95));
      border: 1px solid var(--border-blue);
      border-radius: 24px;
      padding: 24px;
    }

    .workflow-header {
      margin-bottom: 0;
    }

    .workflow-title {
      font-size: 1rem;
      color: var(--text-muted);
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .progress-percentage {
      color: var(--accent-green);
      font-weight: 600;
      font-size: 1.1rem;
    }

    .progress-bar {
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 20px 0;
    }

    .progress-line {
      position: absolute;
      left: 24px;
      top: 0;
      bottom: 0;
      width: 4px;
      background: var(--progress-line);
      z-index: 0;
    }

    .progress-step {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 16px;
      cursor: pointer;
      transition: transform 0.2s;
      padding-left: 8px;
    }

    .progress-step:hover {
      transform: translateX(4px);
    }

    .step-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--progress-active);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 20px;
      box-shadow: 0 4px 12px rgba(93, 214, 255, 0.4);
      position: relative;
      transition: all 0.3s ease;
    }

    .step-icon::after {
      display: none;
    }

    .step-icon.inactive {
      background: var(--progress-inactive);
      box-shadow: none;
    }

    .step-icon.inactive::after {
      display: none;
    }

    .step-icon.inactive:hover {
      background: rgba(93, 214, 255, 0.3);
      box-shadow: 0 4px 12px rgba(93, 214, 255, 0.2);
    }

    .step-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      text-align: left;
      white-space: nowrap;
      transition: color 0.3s ease;
      flex: 1;
    }

    .step-icon.active + .step-label {
      color: var(--text-primary);
      font-weight: 500;
    }

    .progress-step:hover .step-label {
      color: var(--text-primary);
    }

    .content-area {
      flex: 1;
      min-width: 0;
    }

    /* éšæ®µè©³æƒ…å€åŸŸ */
    .stage-section {
      background: linear-gradient(145deg, rgba(20, 27, 45, 0.95), rgba(26, 35, 64, 0.95));
      border: 1px solid var(--border-blue);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
      scroll-margin-top: 20px;
      opacity: 0.7;
      transition: all 0.4s ease;
    }

    .stage-section.active {
      opacity: 1;
      border-color: var(--accent-blue);
      box-shadow: 0 0 24px rgba(93, 214, 255, 0.3);
    }

    .stage-badge {
      position: absolute;
      top: 24px;
      right: 24px;
      background: var(--accent-purple);
      color: white;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .stage-header {
      margin-bottom: 20px;
    }

    .stage-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .stage-title-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: var(--accent-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
    }

    .stage-description {
      color: var(--text-muted);
      font-size: 1rem;
      line-height: 1.6;
      margin-left: 44px;
      margin-bottom: 16px;
    }

    .stage-skill {
      margin-left: 44px;
      margin-top: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .skill-label {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .skill-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(93, 214, 255, 0.15);
      border: 1px solid var(--border-blue);
      color: var(--accent-blue);
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      font-family: "SF Mono", "Menlo", "Consolas", monospace;
    }

    .skill-badge::before {
      content: "âš¡";
      font-size: 0.9rem;
    }

    .skill-description {
      margin-left: 44px;
      margin-top: 16px;
      padding-left: 16px;
      border-left: 2px solid var(--border-blue);
    }

    .skill-description ul {
      list-style: none;
      padding: 0;
      margin: 8px 0 0;
    }

    .skill-description li {
      color: var(--text-muted);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 6px;
      padding-left: 20px;
      position: relative;
    }

    .skill-description li::before {
      content: "â€¢";
      position: absolute;
      left: 8px;
      color: var(--accent-blue);
      font-weight: bold;
    }

    /* ä»»å‹™è©³æƒ… */
    .task-section {
      margin-top: 32px;
    }

    .task-item {
      display: flex;
      gap: 20px;
      margin-bottom: 24px;
    }

    .task-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--accent-green);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.1rem;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(75, 194, 123, 0.3);
    }

    .task-content {
      flex: 1;
    }

    .task-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .task-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .task-time {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .task-instruction {
      color: var(--text-muted);
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 16px;
    }

    /* çµ‚ç«¯å‘½ä»¤å€å¡Š */
    .terminal-block {
      background: rgba(10, 14, 26, 0.8);
      border: 1px solid rgba(93, 214, 255, 0.2);
      border-radius: 12px;
      overflow: hidden;
      margin-top: 12px;
    }

    .terminal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: rgba(93, 214, 255, 0.08);
      border-bottom: 1px solid rgba(93, 214, 255, 0.15);
    }

    .terminal-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    .copy-button {
      background: transparent;
      border: 1px solid var(--border-blue);
      color: var(--accent-blue);
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .copy-button:hover {
      background: rgba(93, 214, 255, 0.1);
      border-color: var(--accent-blue);
    }

    .terminal-content {
      padding: 16px;
      font-family: "SF Mono", "Menlo", "Consolas", monospace;
      font-size: 0.9rem;
      line-height: 1.8;
      color: #daf3ff;
    }

    .terminal-content code {
      display: block;
      white-space: pre;
    }

    .terminal-comment {
      color: #7a9ba8;
    }

    .example-block {
      margin-top: 20px;
      background: rgba(157, 127, 255, 0.08);
      border: 1px solid rgba(157, 127, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
    }

    .example-title {
      color: var(--accent-purple);
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .example-title::before {
      content: "ğŸ’¡";
      font-size: 1.1rem;
    }

    .example-content {
      color: var(--text-muted);
      font-size: 0.9rem;
      line-height: 1.7;
    }

    .example-content strong {
      color: var(--text-primary);
    }

    .example-code {
      background: rgba(10, 14, 26, 0.6);
      border: 1px solid rgba(157, 127, 255, 0.15);
      border-radius: 8px;
      padding: 12px;
      margin-top: 12px;
      font-family: "SF Mono", "Menlo", "Consolas", monospace;
      font-size: 0.85rem;
      color: #daf3ff;
      white-space: pre-wrap;
      overflow-x: auto;
    }

    @media (max-width: 1024px) {
      .main-content {
        flex-direction: column;
        gap: 24px;
      }

      .summary-grid {
        grid-template-columns: 1fr;
      }

      .workflow-sidebar {
        position: relative;
        top: 0;
        width: 100%;
      }

      .progress-bar {
        flex-direction: row;
        justify-content: space-between;
        padding: 20px;
        gap: 12px;
      }

      .progress-line {
        top: 50%;
        left: 0;
        right: 0;
        width: auto;
        height: 4px;
        transform: translateY(-50%);
      }

      .progress-step {
        flex-direction: column;
        align-items: center;
        padding-left: 0;
      }

      .step-label {
        text-align: center;
        font-size: 0.75rem;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: 24px 12px 40px;
      }

      .workflow-sidebar {
        padding: 20px;
      }

      .progress-bar {
        padding: 16px 10px;
      }

      .step-icon {
        width: 40px;
        height: 40px;
        font-size: 16px;
      }

      .step-label {
        font-size: 0.7rem;
      }

      .stage-section {
        padding: 24px;
      }

      .stage-title {
        font-size: 1.5rem;
      }

      .task-item {
        flex-direction: column;
        gap: 12px;
      }

      .task-number {
        width: 36px;
        height: 36px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Summary æ¦‚è¿°å€å¡Š -->
    <div class="summary-section">
      <div class="summary-title">OpenSpec Skills åŠŸèƒ½æ¦‚è¿°</div>
      <div class="summary-grid">
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:onboard</div>
            <span class="summary-skill-stage">ğŸ“ é¦–æ¬¡å°è¦½</span>
          </div>
          <div class="summary-skill-desc">å¼•å°å¼å°è¦½ï¼Œå¸¶é ˜æ–°ç”¨æˆ¶èµ°éå®Œæ•´çš„ OpenSpec å·¥ä½œæµç¨‹ï¼Œé€éå¯¦éš›æ“ä½œå­¸ç¿’æ¯å€‹æ­¥é©Ÿï¼Œé©åˆç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ç”¨æˆ¶</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:explore</div>
            <span class="summary-skill-stage">ğŸ” æ¢ç´¢æ€è€ƒ</span>
          </div>
          <div class="summary-skill-desc">æ¢ç´¢æ¨¡å¼ï¼Œä½œç‚ºæ€è€ƒå¤¥ä¼´å”åŠ©æ¢ç´¢æƒ³æ³•ã€èª¿æŸ¥å•é¡Œã€é‡æ¸…éœ€æ±‚ï¼Œåªåˆ†æä¸æ”¹ç¨‹å¼ï¼Œé©åˆåœ¨å»ºç«‹ change å‰æ·±å…¥æ€è€ƒ</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:new</div>
            <span class="summary-skill-stage">ğŸ“ å‰µå»ºæè­°</span>
          </div>
          <div class="summary-skill-desc">é€æ­¥å»ºç«‹ changeï¼Œæ¯æ¬¡å»ºç«‹ä¸€å€‹ artifactï¼ˆproposal â†’ specs â†’ design â†’ tasksï¼‰ï¼Œé©åˆéœ€è¦ä»”ç´°è¦åŠƒçš„å°ˆæ¡ˆ</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:ff</div>
            <span class="summary-skill-stage">ğŸ“ å‰µå»ºæè­°</span>
          </div>
          <div class="summary-skill-desc">å¿«é€Ÿå»ºç«‹æ‰€æœ‰ artifacts åˆ°å¯å¯¦ä½œç‹€æ…‹ï¼Œä¸€æ¬¡å®Œæˆæ‰€æœ‰å¿…è¦æ–‡ä»¶ï¼Œé©åˆå¿«é€Ÿé–‹ç™¼</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:continue</div>
            <span class="summary-skill-stage">ğŸ’¬ å¯©æ ¸è¦ç¯„</span>
          </div>
          <div class="summary-skill-desc">ç¹¼çºŒå»ºç«‹ä¸‹ä¸€å€‹ artifactï¼Œä¾åºè£œé½Š specsã€designã€tasks ç­‰æ–‡ä»¶ï¼Œé€æ­¥å®Œå–„è®Šæ›´</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:apply</div>
            <span class="summary-skill-stage">ğŸ¤– AIå¯¦æ–½</span>
          </div>
          <div class="summary-skill-desc">ä¾ tasks é †åºé€²è¡Œå¯¦ä½œï¼ŒAI æœƒé€æ­¥å®Œæˆä¸¦è‡ªå‹•æ¨™è¨˜å®Œæˆç‹€æ…‹ï¼Œç¢ºä¿å¯¦ä½œé€²åº¦é€æ˜</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:sync</div>
            <span class="summary-skill-stage">ğŸ¤– AIå¯¦æ–½</span>
          </div>
          <div class="summary-skill-desc">åŒæ­¥ delta specs åˆ°ä¸» specsï¼Œç•¶å¯¦ä½œä¸­éœ€è¦èª¿æ•´è¦æ ¼æ™‚ï¼Œå¯å°‡è®Šæ›´åˆä½µå›ä¸»è¦ç¯„æ–‡ä»¶</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:verify</div>
            <span class="summary-skill-stage">âœ… æ¸¬è©¦é©—è­‰</span>
          </div>
          <div class="summary-skill-desc">é©—è­‰å¯¦ä½œèˆ‡è¦æ ¼çš„ä¸€è‡´æ€§ï¼Œæª¢æŸ¥å®Œæ•´æ€§ã€æ­£ç¢ºæ€§ã€ä¸€è‡´æ€§ä¸‰å€‹ç¶­åº¦ï¼Œç¢ºä¿å¯äº¤ä»˜å“è³ª</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:archive</div>
            <span class="summary-skill-stage">ğŸ“¦ æ­¸æª”æ–‡æª”</span>
          </div>
          <div class="summary-skill-desc">å°å­˜å®Œæˆçš„ change åˆ° archive ç›®éŒ„ï¼Œä¿ç•™å®Œæ•´çš„è®Šæ›´æ­·å²ã€æ±ºç­–è„ˆçµ¡å’Œæ‰€æœ‰ artifacts</div>
        </div>
        <div class="summary-item">
          <div class="summary-skill-header">
            <div class="summary-skill-name">/opsx:bulk-archive</div>
            <span class="summary-skill-stage">ğŸ“¦ æ­¸æª”æ–‡æª”</span>
          </div>
          <div class="summary-skill-desc">æ‰¹é‡æ­¸æª”å¤šå€‹å®Œæˆçš„ changesï¼Œä¸€æ¬¡è™•ç†å¤šå€‹è®Šæ›´ï¼Œæ™ºèƒ½è™•ç†è¦æ ¼è¡çªï¼Œé©åˆåŒæ™‚å®Œæˆå¤šå€‹å¹³è¡Œé–‹ç™¼çš„è®Šæ›´</div>
        </div>
      </div>
    </div>

    <!-- ä¸»è¦å…§å®¹å€åŸŸ -->
    <div class="main-content">
      <!-- å·¥ä½œæµé€²åº¦æ¢ - å·¦å´å´é‚Šæ¬„ -->
      <div class="workflow-sidebar">
      <div class="workflow-header">
        <div class="workflow-title">
          <span>å·¥ä½œæµé€²åº¦</span>
          <span class="progress-percentage">20%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-line"></div>
          <div class="progress-step" data-stage="1" onclick="scrollToStage(1)">
            <div class="step-icon active">ğŸ“</div>
            <span class="step-label">å‰µå»ºæè­°</span>
          </div>
          <div class="progress-step" data-stage="2" onclick="scrollToStage(2)">
            <div class="step-icon inactive">ğŸ’¬</div>
            <span class="step-label">å¯©æ ¸è¦ç¯„</span>
          </div>
          <div class="progress-step" data-stage="3" onclick="scrollToStage(3)">
            <div class="step-icon inactive">ğŸ¤–</div>
            <span class="step-label">AIå¯¦æ–½</span>
          </div>
          <div class="progress-step" data-stage="4" onclick="scrollToStage(4)">
            <div class="step-icon inactive">âœ…</div>
            <span class="step-label">æ¸¬è©¦é©—è­‰</span>
          </div>
          <div class="progress-step" data-stage="5" onclick="scrollToStage(5)">
            <div class="step-icon inactive">ğŸ“¦</div>
            <span class="step-label">æ­¸æª”æ–‡æª”</span>
          </div>
        </div>
      </div>
    </div>

      <!-- éšæ®µè©³æƒ… - å³å´å…§å®¹å€ -->
      <div class="content-area">
    <div id="stage-1" class="stage-section active">
      <div class="stage-badge">éšæ®µ 1</div>
      <div class="stage-header">
        <div class="stage-title">
          <div class="stage-title-icon">ğŸ“</div>
          <span>å‰µå»ºæè­° (Proposal)</span>
        </div>
        <p class="stage-description">æ˜ç¢ºåŠŸèƒ½éœ€æ±‚,è¨­è¨ˆæŠ€è¡“æ–¹æ¡ˆ,åˆ†è§£å¯¦æ–½ä»»å‹™</p>
        <div class="stage-skill">
          <span class="skill-label">ä½¿ç”¨çš„ Skill:</span>
          <span class="skill-badge">/opsx:new</span>
          <span class="skill-badge">/opsx:ff</span>
        </div>
        <div class="skill-description">
          <ul>
            <li><strong>/opsx:new</strong> - é€æ­¥å»ºç«‹ changeï¼Œæ¯æ¬¡å»ºç«‹ä¸€å€‹ artifactï¼ˆproposal â†’ specs â†’ design â†’ tasksï¼‰</li>
            <li><strong>/opsx:ff</strong> - å¿«é€Ÿå»ºç«‹æ‰€æœ‰ artifacts åˆ°å¯å¯¦ä½œç‹€æ…‹ï¼ˆä¸€æ¬¡å®Œæˆæ‰€æœ‰å¿…è¦æ–‡ä»¶ï¼‰</li>
          </ul>
        </div>
      </div>

      <!-- ä»»å‹™è©³æƒ… -->
      <div class="task-section">
        <div class="task-item">
          <div class="task-number">1</div>
          <div class="task-content">
            <div class="task-header">
              <span class="task-title">å»ºç«‹æ–°çš„ Change</span>
              <span class="task-time">5åˆ†é˜</span>
            </div>
            <p class="task-instruction">ä½¿ç”¨ /opsx:new æˆ– /opsx:ff å»ºç«‹æ–°çš„ change ä¸¦é–‹å§‹ç”¢ç”Ÿ artifacts</p>
            <div class="terminal-block">
              <div class="terminal-header">
                <span class="terminal-label">ä½¿ç”¨çš„ Skill</span>
                <button class="copy-button" onclick="copyCommands(this)">è¤‡è£½</button>
              </div>
              <div class="terminal-content">
                <code><span class="terminal-comment"># é€æ­¥å»ºç«‹ artifacts (proposal â†’ specs â†’ design â†’ tasks)</span>
/opsx:new add-product-reviews
<span class="terminal-comment"># æˆ–å¿«é€Ÿå»ºç«‹æ‰€æœ‰ artifacts åˆ°å¯å¯¦ä½œç‹€æ…‹</span>
/opsx:ff add-product-reviews</code>
              </div>
            </div>
            <div class="example-block">
              <div class="example-title">å¯¦éš›ç¯„ä¾‹ï¼šé›»å•†å¹³å°ç”¨æˆ¶è©•åƒ¹ç³»çµ±</div>
              <div class="example-content">
                <p><strong>ææ¡ˆå…§å®¹ç¯„ä¾‹ï¼š</strong></p>
                <p>ç‚ºé›»å•†å¹³å°æ–°å¢ç”¢å“è©•åƒ¹åŠŸèƒ½ï¼Œè®“ç”¨æˆ¶å¯ä»¥å°è³¼è²·çš„ç”¢å“é€²è¡Œè©•åˆ†å’Œè©•è«–ã€‚åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
                <ul style="margin: 8px 0; padding-left: 20px;">
                  <li>ç”¨æˆ¶å¯ä»¥å°å·²è³¼è²·çš„ç”¢å“ç•™ä¸‹ 1-5 æ˜Ÿè©•åˆ†</li>
                  <li>ç”¨æˆ¶å¯ä»¥æ’°å¯«æ–‡å­—è©•è«–ï¼ˆæœ€å¤š 500 å­—ï¼‰</li>
                  <li>é¡¯ç¤ºè©•åƒ¹çµ±è¨ˆï¼ˆå¹³å‡è©•åˆ†ã€è©•åƒ¹æ•¸é‡ï¼‰</li>
                  <li>æ”¯æ´è©•åƒ¹æ’åºï¼ˆæœ€æ–°ã€æœ€æœ‰ç”¨ã€è©•åˆ†é«˜ä½ï¼‰</li>
                  <li>å•†å®¶å¯ä»¥å›è¦†è©•åƒ¹</li>
                </ul>
                <div class="example-code">/opsx:new add-product-reviews
# ç³»çµ±æœƒå¼•å°ä½ å»ºç«‹ proposal æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
# - å•é¡Œæè¿°ï¼šç‚ºä»€éº¼éœ€è¦é€™å€‹åŠŸèƒ½
# - ç›®æ¨™ï¼šè¦è§£æ±ºä»€éº¼å•é¡Œ
# - ç¯„åœï¼šåŒ…å«å’Œä¸åŒ…å«çš„åŠŸèƒ½</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stage-2" class="stage-section">
      <div class="stage-badge">éšæ®µ 2</div>
      <div class="stage-header">
        <div class="stage-title">
          <div class="stage-title-icon">ğŸ’¬</div>
          <span>å¯©æ ¸è¦ç¯„ (Review Specifications)</span>
        </div>
        <p class="stage-description">æª¢æŸ¥ææ¡ˆå®Œæ•´æ€§,é©—è­‰æŠ€è¡“å¯è¡Œæ€§,ç¢ºèªéœ€æ±‚å°é½Š</p>
        <div class="stage-skill">
          <span class="skill-label">ä½¿ç”¨çš„ Skill:</span>
          <span class="skill-badge">/opsx:continue</span>
        </div>
        <div class="skill-description">
          <ul>
            <li><strong>/opsx:continue</strong> - ç¹¼çºŒå»ºç«‹ä¸‹ä¸€å€‹ artifactï¼Œä¾åºè£œé½Š specsã€designã€tasks ç­‰æ–‡ä»¶</li>
          </ul>
        </div>
      </div>

      <div class="task-section">
        <div class="task-item">
          <div class="task-number">1</div>
          <div class="task-content">
            <div class="task-header">
              <span class="task-title">ç¹¼çºŒå»ºç«‹è¦ç¯„æ–‡ä»¶</span>
              <span class="task-time">15åˆ†é˜</span>
            </div>
            <p class="task-instruction">ä½¿ç”¨ /opsx:continue ç¹¼çºŒå»ºç«‹ specs ç­‰è¦ç¯„æ–‡ä»¶ï¼Œæª¢æŸ¥ææ¡ˆå®Œæ•´æ€§</p>
            <div class="terminal-block">
              <div class="terminal-header">
                <span class="terminal-label">ä½¿ç”¨çš„ Skill</span>
                <button class="copy-button" onclick="copyCommands(this)">è¤‡è£½</button>
              </div>
              <div class="terminal-content">
                <code><span class="terminal-comment"># ç¹¼çºŒå»ºç«‹ä¸‹ä¸€å€‹ artifact (specs/design/tasks)</span>
/opsx:continue add-product-reviews
<span class="terminal-comment"># æŸ¥çœ‹å·²å»ºç«‹çš„ artifacts</span>
openspec view add-product-reviews</code>
              </div>
            </div>
            <div class="example-block">
              <div class="example-title">å¯¦éš›ç¯„ä¾‹ï¼šè¦ç¯„æ–‡ä»¶å…§å®¹</div>
              <div class="example-content">
                <p><strong>Specs è¦ç¯„ç¯„ä¾‹ï¼š</strong></p>
                <div class="example-code">## åŠŸèƒ½éœ€æ±‚

### REQ-001: æäº¤è©•åƒ¹
- ç”¨æˆ¶å¿…é ˆå·²è³¼è²·è©²ç”¢å“æ‰èƒ½è©•åƒ¹
- è©•åˆ†ç¯„åœï¼š1-5 æ˜Ÿï¼ˆå¿…å¡«ï¼‰
- è©•è«–æ–‡å­—ï¼š0-500 å­—ï¼ˆé¸å¡«ï¼‰
- å¯ä¸Šå‚³æœ€å¤š 3 å¼µåœ–ç‰‡

### REQ-002: é¡¯ç¤ºè©•åƒ¹åˆ—è¡¨
- é è¨­é¡¯ç¤ºæœ€æ–°è©•åƒ¹
- æ”¯æ´æŒ‰è©•åˆ†ã€æ™‚é–“ã€æœ‰ç”¨åº¦æ’åº
- æ¯é é¡¯ç¤º 10 ç­†è©•åƒ¹

### REQ-003: è©•åƒ¹çµ±è¨ˆ
- é¡¯ç¤ºå¹³å‡è©•åˆ†ï¼ˆå››æ¨äº”å…¥åˆ°å°æ•¸é»å¾Œ 1 ä½ï¼‰
- é¡¯ç¤ºå„æ˜Ÿç´šè©•åƒ¹æ•¸é‡
- é¡¯ç¤ºç¸½è©•åƒ¹æ•¸</div>
                <p style="margin-top: 12px;"><strong>å¯©æ ¸é‡é»ï¼š</strong></p>
                <ul style="margin: 8px 0; padding-left: 20px;">
                  <li>ç¢ºèªéœ€æ±‚å®Œæ•´æ€§ï¼ˆé‚Šç•Œæƒ…æ³ã€éŒ¯èª¤è™•ç†ï¼‰</li>
                  <li>é©—è­‰æŠ€è¡“å¯è¡Œæ€§ï¼ˆè³‡æ–™åº«è¨­è¨ˆã€API è¨­è¨ˆï¼‰</li>
                  <li>æª¢æŸ¥èˆ‡ç¾æœ‰ç³»çµ±çš„æ•´åˆé»</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stage-3" class="stage-section">
      <div class="stage-badge">éšæ®µ 3</div>
      <div class="stage-header">
        <div class="stage-title">
          <div class="stage-title-icon">ğŸ¤–</div>
          <span>AIå¯¦æ–½ (AI Implementation)</span>
        </div>
        <p class="stage-description">ä½¿ç”¨ AI å·¥å…·ç”Ÿæˆä»£ç¢¼,è‡ªå‹•åŒ–å¯¦æ–½ä»»å‹™,å„ªåŒ–å¯¦ç¾æ–¹æ¡ˆ</p>
        <div class="stage-skill">
          <span class="skill-label">ä½¿ç”¨çš„ Skill:</span>
          <span class="skill-badge">/opsx:apply</span>
        </div>
        <div class="skill-description">
          <ul>
            <li><strong>/opsx:apply</strong> - ä¾ tasks é †åºé€²è¡Œå¯¦ä½œï¼ŒAI æœƒé€æ­¥å®Œæˆä¸¦è‡ªå‹•æ¨™è¨˜å®Œæˆç‹€æ…‹</li>
            <li>å¯¦ä½œä¸­å¦‚éœ€èª¿æ•´è¦æ ¼ï¼Œå¯ä½¿ç”¨ <strong>/opsx:sync</strong> åŒæ­¥ delta specs åˆ°ä¸» specs</li>
          </ul>
        </div>
      </div>

      <div class="task-section">
        <div class="task-item">
          <div class="task-number">1</div>
          <div class="task-content">
            <div class="task-header">
              <span class="task-title">å¯¦æ–½ä»»å‹™</span>
              <span class="task-time">10åˆ†é˜</span>
            </div>
            <p class="task-instruction">ä½¿ç”¨ /opsx:apply ä¾ tasks é †åºé€²è¡Œå¯¦ä½œï¼ŒAI æœƒè‡ªå‹•å”åŠ©å®Œæˆä¸¦æ‰“å‹¾</p>
            <div class="terminal-block">
              <div class="terminal-header">
                <span class="terminal-label">ä½¿ç”¨çš„ Skill</span>
                <button class="copy-button" onclick="copyCommands(this)">è¤‡è£½</button>
              </div>
              <div class="terminal-content">
                <code><span class="terminal-comment"># ä¾ tasks é€²è¡Œå¯¦ä½œï¼ŒAI æœƒé€æ­¥å®Œæˆä¸¦æ¨™è¨˜å®Œæˆç‹€æ…‹</span>
/opsx:apply add-product-reviews
<span class="terminal-comment"># å¦‚æœå¯¦ä½œä¸­éœ€è¦èª¿æ•´è¦æ ¼ï¼Œå¯åŒæ­¥ delta specs</span>
/opsx:sync add-product-reviews</code>
              </div>
            </div>
            <div class="example-block">
              <div class="example-title">å¯¦éš›ç¯„ä¾‹ï¼šå¯¦ä½œä»»å‹™èˆ‡ä»£ç¢¼</div>
              <div class="example-content">
                <p><strong>Tasks ä»»å‹™ç¯„ä¾‹ï¼š</strong></p>
                <div class="example-code">- [ ] å»ºç«‹ Review è³‡æ–™æ¨¡å‹ï¼ˆid, productId, userId, rating, comment, images, createdAtï¼‰
- [ ] å¯¦ä½œ POST /api/products/:id/reviews API
- [ ] å¯¦ä½œ GET /api/products/:id/reviews APIï¼ˆæ”¯æ´æ’åºã€åˆ†é ï¼‰
- [ ] å¯¦ä½œè©•åƒ¹çµ±è¨ˆè¨ˆç®—é‚è¼¯
- [ ] å»ºç«‹å‰ç«¯è©•åƒ¹è¡¨å–®çµ„ä»¶
- [ ] å»ºç«‹è©•åƒ¹åˆ—è¡¨é¡¯ç¤ºçµ„ä»¶</div>
                <p style="margin-top: 12px;"><strong>AI å¯¦ä½œç¯„ä¾‹ï¼š</strong></p>
                <div class="example-code">// AI æœƒè‡ªå‹•ç”Ÿæˆé¡ä¼¼é€™æ¨£çš„ä»£ç¢¼
// src/models/Review.ts
export interface Review {
  id: string;
  productId: string;
  userId: string;
  rating: number; // 1-5
  comment?: string;
  images?: string[];
  createdAt: Date;
}

// src/api/reviews.ts
export async function createReview(
  productId: string,
  review: CreateReviewDto
): Promise&lt;Review&gt; {
  // é©—è­‰ç”¨æˆ¶æ˜¯å¦è³¼è²·éè©²ç”¢å“
  // å»ºç«‹è©•åƒ¹è¨˜éŒ„
  // æ›´æ–°ç”¢å“çµ±è¨ˆ
}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stage-4" class="stage-section">
      <div class="stage-badge">éšæ®µ 4</div>
      <div class="stage-header">
        <div class="stage-title">
          <div class="stage-title-icon">âœ…</div>
          <span>æ¸¬è©¦é©—è­‰ (Test Verification)</span>
        </div>
        <p class="stage-description">åŸ·è¡Œå–®å…ƒæ¸¬è©¦,é©—è­‰åŠŸèƒ½æ­£ç¢ºæ€§,ç¢ºä¿ä»£ç¢¼å“è³ª</p>
        <div class="stage-skill">
          <span class="skill-label">ä½¿ç”¨çš„ Skill:</span>
          <span class="skill-badge">/opsx:verify</span>
        </div>
        <div class="skill-description">
          <ul>
            <li><strong>/opsx:verify</strong> - é©—è­‰å¯¦ä½œèˆ‡è¦æ ¼çš„ä¸€è‡´æ€§ï¼Œæª¢æŸ¥å®Œæ•´æ€§ã€æ­£ç¢ºæ€§ã€ä¸€è‡´æ€§ä¸‰å€‹ç¶­åº¦</li>
            <li>ç¢ºä¿æ‰€æœ‰ tasks å·²å®Œæˆï¼Œéœ€æ±‚å·²å¯¦ç¾ï¼Œè¨­è¨ˆæ¨¡å¼ä¸€è‡´</li>
          </ul>
        </div>
      </div>

      <div class="task-section">
        <div class="task-item">
          <div class="task-number">1</div>
          <div class="task-content">
            <div class="task-header">
              <span class="task-title">é©—è­‰å¯¦ä½œä¸€è‡´æ€§</span>
              <span class="task-time">20åˆ†é˜</span>
            </div>
            <p class="task-instruction">ä½¿ç”¨ /opsx:verify æª¢æŸ¥å¯¦ä½œæ˜¯å¦å°é½Šéœ€æ±‚ã€æƒ…å¢ƒèˆ‡è¨­è¨ˆï¼Œç¢ºèªå¯äº¤ä»˜</p>
            <div class="terminal-block">
              <div class="terminal-header">
                <span class="terminal-label">ä½¿ç”¨çš„ Skill</span>
                <button class="copy-button" onclick="copyCommands(this)">è¤‡è£½</button>
              </div>
              <div class="terminal-content">
                <code><span class="terminal-comment"># é©—è­‰å¯¦ä½œèˆ‡è¦æ ¼çš„ä¸€è‡´æ€§</span>
/opsx:verify add-product-reviews
<span class="terminal-comment"># æª¢æŸ¥å®Œæ•´æ€§ã€æ­£ç¢ºæ€§ã€ä¸€è‡´æ€§</span>
openspec verify add-product-reviews</code>
              </div>
            </div>
            <div class="example-block">
              <div class="example-title">å¯¦éš›ç¯„ä¾‹ï¼šé©—è­‰å ±å‘Š</div>
              <div class="example-content">
                <p><strong>é©—è­‰çµæœç¯„ä¾‹ï¼š</strong></p>
                <div class="example-code">âœ“ å®Œæ•´æ€§æª¢æŸ¥
  - [PASS] æ‰€æœ‰ tasks å·²å®Œæˆ
  - [PASS] REQ-001 æäº¤è©•åƒ¹åŠŸèƒ½å·²å¯¦ä½œ
  - [PASS] REQ-002 é¡¯ç¤ºè©•åƒ¹åˆ—è¡¨åŠŸèƒ½å·²å¯¦ä½œ
  - [PASS] REQ-003 è©•åƒ¹çµ±è¨ˆåŠŸèƒ½å·²å¯¦ä½œ

âœ“ æ­£ç¢ºæ€§æª¢æŸ¥
  - [PASS] è©•åˆ†é©—è­‰é‚è¼¯æ­£ç¢ºï¼ˆ1-5 æ˜Ÿï¼‰
  - [PASS] è©•è«–é•·åº¦é™åˆ¶æ­£ç¢ºï¼ˆ0-500 å­—ï¼‰
  - [PASS] è³¼è²·é©—è­‰é‚è¼¯æ­£ç¢º
  - [WARNING] åœ–ç‰‡ä¸Šå‚³æ•¸é‡é™åˆ¶æœªåœ¨ API æ–‡æª”ä¸­èªªæ˜

âœ“ ä¸€è‡´æ€§æª¢æŸ¥
  - [PASS] è³‡æ–™æ¨¡å‹èˆ‡ API è¨­è¨ˆä¸€è‡´
  - [PASS] å‰ç«¯çµ„ä»¶èˆ‡å¾Œç«¯ API ä¸€è‡´
  - [PASS] éŒ¯èª¤è™•ç†ç¬¦åˆè¨­è¨ˆè¦ç¯„</div>
                <p style="margin-top: 12px;"><strong>æ¸¬è©¦è¦†è“‹ï¼š</strong></p>
                <ul style="margin: 8px 0; padding-left: 20px;">
                  <li>å–®å…ƒæ¸¬è©¦ï¼šReview æ¨¡å‹ã€çµ±è¨ˆè¨ˆç®—é‚è¼¯</li>
                  <li>æ•´åˆæ¸¬è©¦ï¼šAPI ç«¯é»ã€è³‡æ–™åº«æ“ä½œ</li>
                  <li>E2E æ¸¬è©¦ï¼šå®Œæ•´è©•åƒ¹æµç¨‹</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stage-5" class="stage-section">
      <div class="stage-badge">éšæ®µ 5</div>
      <div class="stage-header">
        <div class="stage-title">
          <div class="stage-title-icon">ğŸ“¦</div>
          <span>æ­¸æª”æ–‡æª” (Archive Documents)</span>
        </div>
        <p class="stage-description">æ•´ç†é …ç›®æ–‡æª”,æ­¸æª”è®Šæ›´è¨˜éŒ„,ä¿å­˜æ±ºç­–è„ˆçµ¡</p>
        <div class="stage-skill">
          <span class="skill-label">ä½¿ç”¨çš„ Skill:</span>
          <span class="skill-badge">/opsx:archive</span>
        </div>
        <div class="skill-description">
          <ul>
            <li><strong>/opsx:archive</strong> - å°å­˜å®Œæˆçš„ change åˆ° openspec/changes/archive/ ç›®éŒ„</li>
            <li>ä¿ç•™å®Œæ•´çš„è®Šæ›´æ­·å²ã€æ±ºç­–è„ˆçµ¡å’Œæ‰€æœ‰ artifactsï¼Œä¾›æœªä¾†åƒè€ƒ</li>
          </ul>
        </div>
      </div>

      <div class="task-section">
        <div class="task-item">
          <div class="task-number">1</div>
          <div class="task-content">
            <div class="task-header">
              <span class="task-title">æ­¸æª”å®Œæˆçš„ Change</span>
              <span class="task-time">5åˆ†é˜</span>
            </div>
            <p class="task-instruction">ä½¿ç”¨ /opsx:archive å°‡å®Œæˆçš„ change å°å­˜åˆ° archiveï¼Œä¿ç•™å¯è¿½è¹¤çš„æ­·å²èˆ‡æ±ºç­–è„ˆçµ¡</p>
            <div class="terminal-block">
              <div class="terminal-header">
                <span class="terminal-label">ä½¿ç”¨çš„ Skill</span>
                <button class="copy-button" onclick="copyCommands(this)">è¤‡è£½</button>
              </div>
              <div class="terminal-content">
                <code><span class="terminal-comment"># å°å­˜å®Œæˆçš„ change åˆ° openspec/changes/archive/</span>
/opsx:archive add-product-reviews
<span class="terminal-comment"># æŸ¥çœ‹æ­¸æª”æ­·å²</span>
openspec list archive</code>
              </div>
            </div>
            <div class="example-block">
              <div class="example-title">å¯¦éš›ç¯„ä¾‹ï¼šæ­¸æª”çµæ§‹</div>
              <div class="example-content">
                <p><strong>æ­¸æª”å¾Œçš„ç›®éŒ„çµæ§‹ï¼š</strong></p>
                <div class="example-code">openspec/changes/archive/2024-01-15-add-product-reviews/
â”œâ”€â”€ proposal.md          # åŸå§‹ææ¡ˆ
â”œâ”€â”€ specs/
â”‚   â””â”€â”€ product-reviews/
â”‚       â””â”€â”€ spec.md      # åŠŸèƒ½è¦æ ¼
â”œâ”€â”€ design/
â”‚   â””â”€â”€ design.md        # æŠ€è¡“è¨­è¨ˆ
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ tasks.md         # å¯¦ä½œä»»å‹™åˆ—è¡¨
â””â”€â”€ README.md            # è®Šæ›´æ‘˜è¦</div>
                <p style="margin-top: 12px;"><strong>æ­¸æª”å…§å®¹åŒ…å«ï¼š</strong></p>
                <ul style="margin: 8px 0; padding-left: 20px;">
                  <li>å®Œæ•´çš„æ±ºç­–è¨˜éŒ„ï¼ˆç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼‰</li>
                  <li>æ‰€æœ‰ artifacts çš„æ­·å²ç‰ˆæœ¬</li>
                  <li>å¯¦ä½œéç¨‹ä¸­çš„é—œéµè¨è«–é»</li>
                  <li>æœ€çµ‚äº¤ä»˜çš„åŠŸèƒ½æ¸…å–®</li>
                </ul>
                <p style="margin-top: 12px;"><strong>å¾ŒçºŒåƒè€ƒï¼š</strong></p>
                <p>ç•¶éœ€è¦æ“´å±•è©•åƒ¹åŠŸèƒ½ï¼ˆå¦‚è©•åƒ¹å›è¦†ã€è©•åƒ¹æœ‰ç”¨åº¦ï¼‰æ™‚ï¼Œå¯ä»¥åƒè€ƒé€™å€‹æ­¸æª”çš„è¨­è¨ˆæ±ºç­–ï¼Œç¢ºä¿æ–°åŠŸèƒ½èˆ‡ç¾æœ‰æ¶æ§‹ä¸€è‡´ã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
      </div>
    </div>
  </div>

  <script>
    let currentStage = 1;

    function copyCommands(button) {
      const terminalContent = button.closest('.terminal-block').querySelector('.terminal-content code');
      const text = terminalContent.textContent;
      
      navigator.clipboard.writeText(text).then(() => {
        const originalText = button.textContent;
        button.textContent = 'å·²è¤‡è£½';
        button.style.background = 'rgba(75, 194, 123, 0.2)';
        button.style.borderColor = 'var(--accent-green)';
        button.style.color = 'var(--accent-green)';
        
        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = 'transparent';
          button.style.borderColor = 'var(--border-blue)';
          button.style.color = 'var(--accent-blue)';
        }, 2000);
      }).catch(err => {
        console.error('è¤‡è£½å¤±æ•—:', err);
      });
    }

    function scrollToStage(stageNumber) {
      const targetStage = document.getElementById(`stage-${stageNumber}`);
      if (!targetStage) return;

      // æ›´æ–°ç•¶å‰éšæ®µ
      currentStage = stageNumber;

      // æ›´æ–°é€²åº¦æ¢è¦–è¦ºç‹€æ…‹
      updateProgressBar(stageNumber);

      // æ›´æ–°éšæ®µè©³æƒ…å€åŸŸçš„æ´»å‹•ç‹€æ…‹
      updateActiveStage(stageNumber);

      // æ›´æ–°é€²åº¦ç™¾åˆ†æ¯”
      updateProgressPercentage(stageNumber);

      // å¹³æ»‘æ»¾å‹•åˆ°ç›®æ¨™éšæ®µ
      const offset = 20; // è·é›¢é ‚éƒ¨çš„åç§»é‡
      const elementPosition = targetStage.getBoundingClientRect().top;
      const offsetPosition = elementPosition + window.pageYOffset - offset;

      window.scrollTo({
        top: offsetPosition,
        behavior: 'smooth'
      });
    }

    function updateProgressBar(activeStage) {
      const steps = document.querySelectorAll('.progress-step');
      steps.forEach((step, index) => {
        const stepNumber = index + 1;
        const icon = step.querySelector('.step-icon');
        
        if (stepNumber <= activeStage) {
          icon.classList.remove('inactive');
          icon.classList.add('active');
        } else {
          icon.classList.remove('active');
          icon.classList.add('inactive');
        }
      });
    }

    function updateActiveStage(activeStage) {
      const stages = document.querySelectorAll('.stage-section');
      stages.forEach((stage, index) => {
        const stageNumber = index + 1;
        if (stageNumber === activeStage) {
          stage.classList.add('active');
        } else {
          stage.classList.remove('active');
        }
      });
    }

    function updateProgressPercentage(activeStage) {
      const percentageElement = document.querySelector('.progress-percentage');
      if (!percentageElement) return;
      
      // è¨ˆç®—ç™¾åˆ†æ¯”ï¼š5å€‹éšæ®µï¼Œæ¯å€‹éšæ®µ20%
      const percentage = activeStage * 20;
      percentageElement.textContent = `${percentage}%`;
    }

    // ç›£è½æ»¾å‹•äº‹ä»¶ï¼Œè‡ªå‹•æ›´æ–°æ´»å‹•éšæ®µ
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        const stages = document.querySelectorAll('.stage-section');
        const scrollPosition = window.scrollY + window.innerHeight / 3;

        stages.forEach((stage, index) => {
          const stageTop = stage.offsetTop;
          const stageBottom = stageTop + stage.offsetHeight;
          const stageNumber = index + 1;

          if (scrollPosition >= stageTop && scrollPosition < stageBottom) {
            if (currentStage !== stageNumber) {
              currentStage = stageNumber;
              updateProgressBar(stageNumber);
              updateActiveStage(stageNumber);
              updateProgressPercentage(stageNumber);
            }
          }
        });
      }, 100);
    });

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      updateProgressBar(1);
      updateActiveStage(1);
      updateProgressPercentage(1);
    });
  </script>
</body>
</html>